---
layout: default
---

# Chương 24, Chúng ta cảm thấy choáng ngợp. Có vẻ mọi thứ sẽ không thể cải thiện được.

Làm việc với code kế thừa rất khó. Không ai phủ nhận điều đó. Mặc dù mọi tình huống đều khác nhau, nhưng có một điều sẽ khiến công việc đó trở nên xứng đáng với bạn - trong tư cách là một lập trình viên - hay không: tìm hiểu xem công việc đó mang lại lợi ích gì cho bạn. Đối với một số người, đó là tiền lương và điều đó không có gì sai cả - tất cả chúng ta đều phải kiếm sống. Nhưng thực sự phải có lý do nào khác khiến bạn lập trình.

Nếu may mắn, bạn bắt đầu công việc viết code này vì bạn nghĩ nó rất thú vị. Bạn ngồi xuống bên chiếc máy tính đầu tiên của mình và ngây ngất với tất cả những khả năng, tất cả những điều thú vị mà bạn có thể làm khi lập trình với một chiếc máy tính. Đó là thứ để học và thứ để thành thạo, và bạn nghĩ, "Chà, điều này thật thú vị. Tôi có thể tạo nên một sự nghiệp vĩ đại nếu tôi làm tốt việc này."

Không phải ai cũng học lập trình theo cách này, nhưng ngay cả đối với những người không làm như vậy, vẫn có thể kết nối với những điều thú vị về lập trình. Nếu bạn có thể - và một số đồng nghiệp của bạn cũng có thể - thì việc bạn đang làm trên loại hệ thống nào thực sự không quan trọng. Bạn có thể làm những điều gọn gàng với nó. Sự thay thế chỉ là sự chán nản. Điều đó chẳng có gì thú vị cả, và thành thật mà nói, tất cả chúng ta đều xứng đáng được hưởng những điều tốt đẹp hơn thế.

Thông thường những người dành thời gian làm việc trên các hệ thống kế thừa mong muốn họ có thể làm việc trên các hệ thống hoàn toàn mới. Thật thú vị khi xây dựng hệ thống từ đầu, nhưng thành thật mà nói, các hệ thống hoàn toàn mới cũng có những vấn đề riêng. Tôi đã thấy kịch bản sau cứ lặp đi lặp lại: Hệ thống hiện tại ngày càng trở nên u ám và khó thay đổi dần theo thời gian. Mọi người trong tổ chức cảm thấy thất vọng với việc mất quá lâu để thực hiện thay đổi trong hệ thống. Họ điều chuyển những người giỏi nhất (và đôi khi là những người gây rắc rối!) vào một nhóm mới với nhiệm vụ "tạo ra hệ thống mới thay thế với kiến trúc tốt hơn". Ban đầu, mọi thứ đều ổn. Họ biết những vấn đề xảy ra với kiến trúc cũ và dành thời gian để nghĩ ra một thiết kế mới. Trong khi đó, các lập trình viên còn lại vẫn đang làm việc trên hệ thống cũ. Hệ thống đang được sử dụng nên họ vẫn nhận được yêu cầu sửa lỗi và đôi khi còn có các tính năng mới. Doanh nghiệp xem xét kỹ lưỡng từng tính năng mới và quyết định xem nó cần có trong hệ thống cũ hay khách hàng có thể đợi hệ thống mới hay không. Trong nhiều trường hợp, khách hàng không thể chờ đợi nên sự thay đổi sẽ diễn ra ở cả hai phía. Đội với hệ thống mới phải thực hiện nhiệm vụ kép, cố gắng thay thế một hệ thống liên tục thay đổi. Nhiều tháng trôi qua, rõ ràng là họ sẽ không thể thay thế hệ thống cũ, hệ thống mà họ đang bảo trì. Áp lực tăng lên. Họ làm việc ngày, đêm và cuối tuần. Trong nhiều trường hợp, những người còn lại trong tổ chức phát hiện ra rằng công việc bạn đang làm là rất quan trọng và bạn đang hướng tới khoản đầu tư mà mọi người sẽ phải dựa vào trong tương lai.

Mọi thứ không thực sự khởi sắc hơn nhiều trong quá trình phát triển hệ thống mới.

Chìa khóa của sự phát triển mạnh mẽ khi làm việc với code kế thừa là tìm ra điều gì thúc đẩy bạn. Mặc dù nhiều lập trình viên trong chúng ta là những sinh vật đơn độc, nhưng nếu bạn được làm việc trong một môi trường tốt và với những người bạn tôn trọng, những người biết cách tận hưởng niềm vui trong công việc thì thực sự không gì có thể thay thế được. Tôi đã kết bạn với một số người bạn thân nhất của mình tại nơi làm việc và cho đến ngày nay, họ là những người tôi nói chuyện khi tôi học được điều gì đó mới mẻ hoặc thú vị khi lập trình.

Một điều hữu ích khác là kết nối với cộng đồng lớn hơn. Ngày nay, việc liên lạc với các lập trình viên khác để tìm hiểu và chia sẻ nhiều hơn về nghề này đã trở nên dễ dàng hơn bao giờ hết. Bạn có thể đăng ký danh sách gửi thư trên Internet, tham dự hội nghị và tận dụng tất cả các tài nguyên mà bạn có thể sử dụng để mở rộng kết nối, chia sẻ chiến lược và kỹ thuật, và nói chung là luôn đi đầu trong phát triển phần mềm.

Ngay cả khi bạn có một nhóm người trong dự án quan tâm đến công việc và quan tâm đến việc làm cho mọi thứ tốt hơn, thì một dạng chán nản khác cũng có thể xuất hiện. Đôi khi mọi người chán nản vì code base của họ quá lớn đến nỗi họ và đồng nghiệp đã làm việc với nó được 10 năm nhưng vẫn không cải thiện được hơn 10%. Đó không phải là một lý do chính đáng để chán nản sao? Chà, tôi đã từng gặp các nhóm có hàng triệu dòng code kế thừa, những người coi mỗi ngày là một thử thách cũng như cơ hội để làm mọi thứ tốt hơn và vui vẻ hơn. Tôi cũng đã chứng kiến những đội có code base tốt hơn nhiều nhưng vẫn cảm thấy chán nản. Thái độ chúng ta mang đến cho công việc rất quan trọng.

TDD một số code bên ngoài công việc. Chương trình cho vui một chút. Bắt đầu cảm nhận sự khác biệt giữa những dự án nhỏ bạn thực hiện và dự án lớn ở nơi làm việc. Rất có thể, bạn sẽ có cảm giác tương tự với dự án tại nơi làm việc nếu bạn đưa những phần đang làm việc cùng vào kiểm thử khai thác nhanh.

Nếu tinh thần trong nhóm của bạn xuống thấp và nguyên nhân chính là do chất lượng code, thì đây là cách bạn có thể thử: Chọn một số lớp xấu nhất, đáng ghét nhất trong dự án và đưa chúng đi vào kiểm thử. Khi bạn cùng nhóm giải quyết vấn đề tồi tệ nhất, bạn sẽ cảm thấy tình hình được kiểm soát. Tôi đã chứng kiến điều này nhiều lần.

Khi bạn bắt đầu kiểm soát code base của mình, bạn sẽ bắt đầu phát triển các ốc đảo code tốt. Bạn có thể thực sự thấy công việc thú vị hơn với chúng.